#!/bin/bash
# Pre-commit hook to run tests before committing

echo "ğŸ§ª Running guided workflow tests before commit..."

# Run quick unit tests
Rscript -e "testthat::test_file("tests/testthat/test-guided-workflow.R")"

# Check exit code
if [ $? -ne 0 ]; then
    echo "âŒ Tests failed! Commit aborted."
    echo "Fix the tests or use "git commit --no-verify" to bypass."
    exit 1
fi

echo "âœ… Tests passed! Proceeding with commit."
exit 0

