# =============================================================================
# Environment-Specific Configuration Template
# =============================================================================
# Copy this file to .env.R and customize for your environment.
# .env.R is loaded by config.R and overrides APP_CONFIG settings.
# .env.R should NOT be committed to version control (add to .gitignore).
# =============================================================================

ENV_CONFIG <- list(
  # ==========================================================================
  # Development Mode Settings
  # ==========================================================================
  DEV = list(
    DEBUG_MODE = TRUE,           # Enable debug logging
    SHOW_ERRORS = TRUE,          # Show detailed error messages
    ENABLE_PROFILING = FALSE,    # Enable performance profiling
    RELOAD_ON_SAVE = TRUE        # Hot reload during development
  ),

  # ==========================================================================
  # Network Configuration (uncomment to override defaults)
  # ==========================================================================
  # DEFAULT_PORT = 3838,         # Port for the Shiny server
  # DEFAULT_HOST = "0.0.0.0",    # Host binding (0.0.0.0 for network access)

  # ==========================================================================
  # Session & Performance Settings
  # ==========================================================================
  SESSION = list(
    TIMEOUT_MINUTES = 120,       # Session timeout (default: 60)
    MAX_CACHE_SIZE_MB = 1000     # Max cache size (default: 500)
  ),

  PERFORMANCE = list(
    ENABLE_CACHING = TRUE,       # Enable data caching
    DEBOUNCE_MS = 300            # UI debounce delay (default: 500)
  ),

  # ==========================================================================
  # File Upload Limits
  # ==========================================================================
  UPLOAD = list(
    MAX_FILE_SIZE_MB = 200       # Max upload size (default: 100)
  ),

  # ==========================================================================
  # Logging Configuration
  # ==========================================================================
  LOGGING = list(
    ENABLED = TRUE,
    LEVEL = "DEBUG",             # DEBUG, INFO, WARNING, ERROR
    FILE = "logs/app.log"        # Log file path (relative to app root)
  ),

  # ==========================================================================
  # Database Configuration (for future use)
  # ==========================================================================
  DATABASE = list(
    ENABLED = FALSE,
    TYPE = "sqlite",             # sqlite, postgres, mysql
    PATH = "data/bowtie_app.db"  # SQLite database path
    # HOST = "localhost",        # Database host (for postgres/mysql)
    # PORT = 5432,               # Database port
    # USER = "bowtie_user",      # Database user
    # PASSWORD = "",             # Database password (use env var in production)
    # DATABASE = "bowtie_db"     # Database name
  ),

  # ==========================================================================
  # External API Configuration (for future integrations)
  # ==========================================================================
  API = list(
    ENABLED = FALSE,
    BASE_URL = NULL,
    TIMEOUT_SECONDS = 30
    # API_KEY = ""               # Use environment variable in production
  )
)

# ==========================================================================
# Example: Load sensitive values from system environment variables
# ==========================================================================
# if (Sys.getenv("BOWTIE_DB_PASSWORD") != "") {
#   ENV_CONFIG$DATABASE$PASSWORD <- Sys.getenv("BOWTIE_DB_PASSWORD")
# }
#
# if (Sys.getenv("BOWTIE_API_KEY") != "") {
#   ENV_CONFIG$API$API_KEY <- Sys.getenv("BOWTIE_API_KEY")
# }
