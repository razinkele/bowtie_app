# Vocabulary Source Selector - Integration Code
# Generated by Simple Vocabulary Extractor v1.0.0

# UI COMPONENT:

# Add to your app.r UI section:
fluidRow(
  column(6,
    selectInput("vocabulary_source", "Vocabulary Source:",
      choices = c(
        "Current (Reliable)" = "current",
        "MARBEFES Guidance (When Available)" = "guidance",
        "Mixed (Best of Both)" = "mixed"
      ),
      selected = "current"
    )
  ),
  column(6,
    conditionalPanel(
      condition = "input.vocabulary_source != 'current'",
      div(class = "alert alert-info",
        "ðŸš€ Guidance vocabularies provide 88x more terms but require preprocessing")
    )
  )
)


# SERVER COMPONENT:

# Add to your app.r server section:
vocabulary_source <- reactive({
  switch(input$vocabulary_source,
    "current" = load_current_vocabularies(),
    "guidance" = load_guidance_vocabularies_when_ready(),
    "mixed" = combine_vocabularies()
  )
})

# Placeholder functions until preprocessing is complete
load_current_vocabularies <- function() {
  # Your existing vocabulary loading (already working)
  load_vocabulary()
}

load_guidance_vocabularies_when_ready <- function() {
  # Will use preprocessed files when available
  showNotification("Guidance vocabularies not yet preprocessed", type = "warning")
  return(load_current_vocabularies())
}

combine_vocabularies <- function() {
  # Future: combine current + guidance
  return(load_current_vocabularies())
}

